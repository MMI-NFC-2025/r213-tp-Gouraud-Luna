---
import Layout from '../../layouts/Layout.astro';
import { addOffre } from '../../backend.mjs';
import Hero from '../../components/hero.astro';
let message = '';
if (Astro.request.method === "POST") {
    const formData = await Astro.request.formData();
    const response = await addOffre(formData);
    message = response.message;
}
---
<Layout>
    <Hero H1="Ajouter son offre immobiliÃ¨re" />
    <h1 class="text-lg text-center py-4">Ajouter une offre</h1>
    {message && <p class="text-green-600">{message}</p>}
    <form action="/offres/add" method="POST" enctype="multipart/form-data" class="flex flex-col gap-4 pb-20">
        <div>
            <input type="text" name="Nom" placeholder="Nom de la maison" required class="w-full p-2 border border-gray-300 rounded-md" />
        </div>
        <div>
            <input type="number" name="Prix" placeholder="Prix" class="w-full p-2 border border-gray-300 rounded-md" />
        </div>
        <div>
            <input type="number" name="nb_salle_de_bain" placeholder="Nombre de salles de bain" class="w-full p-2 border border-gray-300 rounded-md" />
        </div>
        <div>
            <input type="number" name="nb_chambre" placeholder="Nombre de chambres" class="w-full p-2 border border-gray-300 rounded-md" />
        </div>
        <div>
            <input type="number" name="Superficie" placeholder="Superficie" class="w-full p-2 border border-gray-300 rounded-md" />
        </div>
        <div>
            <input type="file" name="Images" class="w-full p-2 border border-gray-300 rounded-md cursor-pointer" />
        </div>
        <div class="flex justify-center">
            <button type="submit" class="w-fit py-2 px-4 cursor-pointer bg-cyan-700 text-white rounded-md">Ajouter</button>
        </div>
    </form>
</Layout>