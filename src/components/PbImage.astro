---
import { getImageUrl } from '../backend.mjs';
import { Image } from "astro:assets";

const { record, recordImage, width, height } = Astro.props;

const imageURL = await getImageUrl(record, recordImage);
---

{imageURL && 
    <Image
        src={imageURL}
        alt={record.Nom || 'Image'}
        width={width}
        height={height}
        class="w-full h-full object-cover"
        sizes="(min-width: 1024px) 33vw, (min-width: 768px) 50vw, 100vw"
        densities={[1, 2]}
        quality={90}
    />
}